/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */
(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof module!="undefined"&&module.exports?module.exports=e:e(jQuery,window,document)})(function(e){(function(t){var n=typeof define=="function"&&define.amd,r=typeof module!="undefined"&&module.exports,i="https:"==document.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";n||(r?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+s+"%3E%3C/script%3E"))),t()})(function(){var t="mCustomScrollbar",n="mCS",r=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,o={},u=window.attachEvent&&!window.addEventListener?1:0,a=!1,f,l=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(t){var t=e.extend(!0,{},i,t),u=h.call(this);if(t.live){var a=t.liveSelector||this.selector||r,f=e(a);if(t.live==="off"){d(a);return}o[a]=setTimeout(function(){f.mCustomScrollbar(t),t.live==="once"&&f.length&&d(a)},500)}else d(a);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,typeof t.mouseWheel!="object"&&t.mouseWheel==1&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=m(t.scrollButtons.scrollType),p(t),e(u).each(function(){var r=e(this);if(!r.data(n)){r.data(n,{idx:++s,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:r.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=r.data(n),o=i.opt,u=r.data("mcs-axis"),a=r.data("mcs-scrollbar-position"),f=r.data("mcs-theme");u&&(o.axis=u),a&&(o.scrollbarPosition=a),f&&(o.theme=f,p(o)),g.call(this),i&&o.callbacks.onCreate&&typeof o.callbacks.onCreate=="function"&&o.callbacks.onCreate.call(this),e("#mCSB_"+i.idx+"_container img:not(."+l[2]+")").addClass(l[2]),c.update.call(null,r)}})},update:function(t,r){var i=t||h.call(this);return e(i).each(function(){var t=e(this);if(t.data(n)){var i=t.data(n),s=i.opt,o=e("#mCSB_"+i.idx+"_container"),u=e("#mCSB_"+i.idx),a=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!o.length)return;i.tweenRunning&&K(t),r&&i&&s.callbacks.onBeforeUpdate&&typeof s.callbacks.onBeforeUpdate=="function"&&s.callbacks.onBeforeUpdate.call(this),t.hasClass(l[3])&&t.removeClass(l[3]),t.hasClass(l[4])&&t.removeClass(l[4]),u.css("max-height","none"),u.height()!==t.height()&&u.css("max-height",t.height()),b.call(this),s.axis!=="y"&&!s.advanced.autoExpandHorizontalScroll&&o.css("width",y(o)),i.overflowed=T.call(this),L.call(this),s.autoDraggerLength&&E.call(this),S.call(this),C.call(this);var f=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];s.axis!=="x"&&(i.overflowed[0]?a[0].height()>a[0].parent().height()?N.call(this):(Q(t,f[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(N.call(this),s.axis==="y"?k.call(this):s.axis==="yx"&&i.overflowed[1]&&Q(t,f[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),s.axis!=="y"&&(i.overflowed[1]?a[1].width()>a[1].parent().width()?N.call(this):(Q(t,f[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(N.call(this),s.axis==="x"?k.call(this):s.axis==="yx"&&i.overflowed[0]&&Q(t,f[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),r&&i&&(r===2&&s.callbacks.onImageLoad&&typeof s.callbacks.onImageLoad=="function"?s.callbacks.onImageLoad.call(this):r===3&&s.callbacks.onSelectorChange&&typeof s.callbacks.onSelectorChange=="function"?s.callbacks.onSelectorChange.call(this):s.callbacks.onUpdate&&typeof s.callbacks.onUpdate=="function"&&s.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(t,r){if(typeof t=="undefined"||t==null)return;var i=h.call(this);return e(i).each(function(){var i=e(this);if(i.data(n)){var s=i.data(n),o=s.opt,u={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(!0,{},u,r),f=W.call(this,t),l=a.scrollInertia>0&&a.scrollInertia<17?17:a.scrollInertia;f[0]=X.call(this,f[0],"y"),f[1]=X.call(this,f[1],"x"),a.moveDragger&&(f[0]*=s.scrollRatio.y,f[1]*=s.scrollRatio.x),a.dur=st()?0:l,setTimeout(function(){f[0]!==null&&typeof f[0]!="undefined"&&o.axis!=="x"&&s.overflowed[0]&&(a.dir="y",a.overwrite="all",Q(i,f[0].toString(),a)),f[1]!==null&&typeof f[1]!="undefined"&&o.axis!=="y"&&s.overflowed[1]&&(a.dir="x",a.overwrite="none",Q(i,f[1].toString(),a))},a.timeout)}})},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&K(t)})},disable:function(t){var r=h.call(this);return e(r).each(function(){var r=e(this);if(r.data(n)){var i=r.data(n);V.call(this,"remove"),k.call(this),t&&N.call(this),L.call(this,!0),r.addClass(l[3])}})},destroy:function(){var r=h.call(this);return e(r).each(function(){var i=e(this);if(i.data(n)){var s=i.data(n),o=s.opt,u=e("#mCSB_"+s.idx),a=e("#mCSB_"+s.idx+"_container"),f=e(".mCSB_"+s.idx+"_scrollbar");o.live&&d(o.liveSelector||e(r).selector),V.call(this,"remove"),k.call(this),N.call(this),i.removeData(n),et(this,"mcs"),f.remove(),a.find("img."+l[2]).removeClass(l[2]),u.replaceWith(a.contents()),i.removeClass(t+" _"+n+"_"+s.idx+" "+l[6]+" "+l[7]+" "+l[5]+" "+l[3]).addClass(l[4])}})}},h=function(){return typeof e(this)!="object"||e(this).length<1?r:this},p=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],s=["minimal","minimal-dark"],o=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,n)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,r)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,s)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,o)>-1?"outside":t.scrollbarPosition},d=function(e){o[e]&&(clearTimeout(o[e]),et(o,e))},v=function(e){return e==="yx"||e==="xy"||e==="auto"?"yx":e==="x"||e==="horizontal"?"x":"y"},m=function(e){return e==="stepped"||e==="pixels"||e==="step"||e==="click"?"stepped":"stepless"},g=function(){var r=e(this),i=r.data(n),s=i.opt,o=s.autoExpandScrollbar?" "+l[1]+"_expand":"",u=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a=s.axis==="yx"?"mCSB_vertical_horizontal":s.axis==="x"?"mCSB_horizontal":"mCSB_vertical",f=s.axis==="yx"?u[0]+u[1]:s.axis==="x"?u[1]:u[0],c=s.axis==="yx"?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=s.autoHideScrollbar?" "+l[6]:"",p=s.axis!=="x"&&i.langDir==="rtl"?" "+l[7]:"";s.setWidth&&r.css("width",s.setWidth),s.setHeight&&r.css("height",s.setHeight),s.setLeft=s.axis!=="y"&&i.langDir==="rtl"?"989999px":s.setLeft,r.addClass(t+" _"+n+"_"+i.idx+h+p).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+a+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir='"+i.langDir+"' /></div>");var d=e("#mCSB_"+i.idx),v=e("#mCSB_"+i.idx+"_container");s.axis!=="y"&&!s.advanced.autoExpandHorizontalScroll&&v.css("width",y(v)),s.scrollbarPosition==="outside"?(r.css("position")==="static"&&r.css("position","relative"),r.css("overflow","visible"),d.addClass("mCSB_outside").after(f)):(d.addClass("mCSB_inside").append(f),v.wrap(c)),w.call(this);var m=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},y=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],r=t.parent().width();return n[0]>r?n[0]:n[1]>r?n[1]:"100%"},b=function(){var t=e(this),r=t.data(n),i=r.opt,s=e("#mCSB_"+r.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&i.axis!=="y"){s.css({width:"auto","min-width":0,"overflow-x":"scroll"});var o=Math.ceil(s[0].scrollWidth);i.advanced.autoExpandHorizontalScroll===3||i.advanced.autoExpandHorizontalScroll!==2&&o>s.parent().width()?s.css({width:o,"min-width":"100%","overflow-x":"inherit"}):s.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right+.4)-Math.floor(s[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),r=t.data(n),i=r.opt,s=e(".mCSB_"+r.idx+"_scrollbar:first"),o=rt(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",u=["<a href='#' class='"+l[13]+"' "+o+" />","<a href='#' class='"+l[14]+"' "+o+" />","<a href='#' class='"+l[15]+"' "+o+" />","<a href='#' class='"+l[16]+"' "+o+" />"],a=[i.axis==="x"?u[2]:u[0],i.axis==="x"?u[3]:u[1],u[2],u[3]];i.scrollButtons.enable&&s.prepend(a[0]).append(a[1]).next(".mCSB_scrollTools").prepend(a[2]).append(a[3])},E=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),s=e("#mCSB_"+r.idx+"_container"),o=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],a=[i.height()/s.outerHeight(!1),i.width()/s.outerWidth(!1)],f=[parseInt(o[0].css("min-height")),Math.round(a[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(a[1]*o[1].parent().width())],l=u&&f[1]<f[0]?f[0]:f[1],c=u&&f[3]<f[2]?f[2]:f[3];o[0].css({height:l,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":f[0]+"px"}),o[1].css({width:c,"max-width":o[1].parent().width()-10})},S=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),s=e("#mCSB_"+r.idx+"_container"),o=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],u=[s.outerHeight(!1)-i.height(),s.outerWidth(!1)-i.width()],a=[u[0]/(o[0].parent().height()-o[0].height()),u[1]/(o[1].parent().width()-o[1].width())];r.scrollRatio={y:a[0],x:a[1]}},x=function(e,t,n){var r=n?l[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");t==="active"?(e.toggleClass(l[0]+" "+r),i.toggleClass(l[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||(t==="hide"?(e.removeClass(l[0]),i.removeClass(l[1])):(e.addClass(l[0]),i.addClass(l[1])))},T=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),s=e("#mCSB_"+r.idx+"_container"),o=r.overflowed==null?s.height():s.outerHeight(!1),u=r.overflowed==null?s.width():s.outerWidth(!1),a=s[0].scrollHeight,f=s[0].scrollWidth;return a>o&&(o=a),f>u&&(u=f),[o>i.height(),u>i.width()]},N=function(){var t=e(this),r=t.data(n),i=r.opt,s=e("#mCSB_"+r.idx),o=e("#mCSB_"+r.idx+"_container"),u=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")];K(t);if(i.axis!=="x"&&!r.overflowed[0]||i.axis==="y"&&r.overflowed[0])u[0].add(o).css("top",0),Q(t,"_resetY");if(i.axis!=="y"&&!r.overflowed[1]||i.axis==="x"&&r.overflowed[1]){var a=dx=0;r.langDir==="rtl"&&(a=s.width()-o.outerWidth(!1),dx=Math.abs(a/r.scrollRatio.x)),o.css("left",a),u[1].css("left",dx),Q(t,"_resetX")}},C=function(){var t=e(this),r=t.data(n),i=r.opt;if(!r.bindEvents){O.call(this),i.contentTouchScroll&&M.call(this),_.call(this);if(i.mouseWheel.enable){function s(){o=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(o),D.call(t[0])):s()},100)}var o;s()}F.call(this),q.call(this),i.advanced.autoScrollOnFocus&&I.call(this),i.scrollButtons.enable&&R.call(this),i.keyboard.enable&&U.call(this),r.bindEvents=!0}},k=function(){var t=e(this),r=t.data(n),i=r.opt,s=n+"_"+r.idx,o=".mCSB_"+r.idx+"_scrollbar",u=e("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+o+" ."+l[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+o+">a"),a=e("#mCSB_"+r.idx+"_container");i.advanced.releaseDraggableSelectors&&u.add(e(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&u.add(e(i.advanced.extraDraggableSelectors)),r.bindEvents&&(e(document).add(e(!H()||top.document)).unbind("."+s),u.each(function(){e(this).unbind("."+s)}),clearTimeout(t[0]._focusTimeout),et(t[0],"_focusTimeout"),clearTimeout(r.sequential.step),et(r.sequential,"step"),clearTimeout(a[0].onCompleteTimeout),et(a[0],"onCompleteTimeout"),r.bindEvents=!1)},L=function(t){var r=e(this),i=r.data(n),s=i.opt,o=e("#mCSB_"+i.idx+"_container_wrapper"),u=o.length?o:e("#mCSB_"+i.idx+"_container"),a=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],f=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];s.axis!=="x"&&(i.overflowed[0]&&!t?(a[0].add(f[0]).add(a[0].children("a")).css("display","block"),u.removeClass(l[8]+" "+l[10])):(s.alwaysShowScrollbar?(s.alwaysShowScrollbar!==2&&f[0].css("display","none"),u.removeClass(l[10])):(a[0].css("display","none"),u.addClass(l[10])),u.addClass(l[8]))),s.axis!=="y"&&(i.overflowed[1]&&!t?(a[1].add(f[1]).add(a[1].children("a")).css("display","block"),u.removeClass(l[9]+" "+l[11])):(s.alwaysShowScrollbar?(s.alwaysShowScrollbar!==2&&f[1].css("display","none"),u.removeClass(l[11])):(a[1].css("display","none"),u.addClass(l[11])),u.addClass(l[9]))),!i.overflowed[0]&&!i.overflowed[1]?r.addClass(l[5]):r.removeClass(l[5])},A=function(t){var n=t.type,r=t.target.ownerDocument!==document&&frameElement!==null?[e(frameElement).offset().top,e(frameElement).offset().left]:null,i=H()&&t.target.ownerDocument!==top.document&&frameElement!==null?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return r?[t.originalEvent.pageY-r[0]+i[0],t.originalEvent.pageX-r[1]+i[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var s=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],o=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[s.screenY,s.screenX,o>1]:[s.pageY,s.pageX,o>1];default:return r?[t.pageY-r[0]+i[0],t.pageX-r[1]+i[1],!1]:[t.pageY,t.pageX,!1]}},O=function(){function m(e,n,s,u){f[0].idleTimer=i.scrollInertia<233?250:0;if(c.attr("id")===o[1])var a="x",l=(c[0].offsetLeft-n+u)*r.scrollRatio.x;else var a="y",l=(c[0].offsetTop-e+s)*r.scrollRatio.y;Q(t,l.toString(),{dir:a,drag:!0})}var t=e(this),r=t.data(n),i=r.opt,s=n+"_"+r.idx,o=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],f=e("#mCSB_"+r.idx+"_container"),l=e("#"+o[0]+",#"+o[1]),c,h,p,d=i.advanced.releaseDraggableSelectors?l.add(e(i.advanced.releaseDraggableSelectors)):l,v=i.advanced.extraDraggableSelectors?e(!H()||top.document).add(e(i.advanced.extraDraggableSelectors)):e(!H()||top.document);l.bind("contextmenu."+s,function(e){e.preventDefault()}).bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(n){n.stopImmediatePropagation(),n.preventDefault();if(!tt(n))return;a=!0,u&&(document.onselectstart=function(){return!1}),B.call(f,!1),K(t),c=e(this);var r=c.offset(),s=A(n)[0]-r.top,o=A(n)[1]-r.left,l=c.height()+r.top,d=c.width()+r.left;s<l&&s>0&&o<d&&o>0&&(h=s,p=o),x(c,"active",i.autoExpandScrollbar)}).bind("touchmove."+s,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=c.offset(),n=A(e)[0]-t.top,r=A(e)[1]-t.left;m(h,p,n,r)}),e(document).add(v).bind("mousemove."+s+" pointermove."+s+" MSPointerMove."+s,function(e){if(c){var t=c.offset(),n=A(e)[0]-t.top,r=A(e)[1]-t.left;if(h===n&&p===r)return;m(h,p,n,r)}}).add(d).bind("mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(e){c&&(x(c,"active",i.autoExpandScrollbar),c=null),a=!1,u&&(document.onselectstart=null),B.call(f,!0)})},M=function(){function P(n){if(e(n.target).is('[class^="item-carousel-bloc"]'))return;if(!nt(n)||a||A(n)[2]){f=0;return}f=1,L=0,O=0,c=1,t.removeClass("mCS_touch_action");var r=u.offset();h=A(n)[0]-r.top,p=A(n)[1]-r.left,k=[A(n)[0],A(n)[1]]}function B(n){if(e(n.target).is('[class^="item-carousel-bloc"]'))return;if(!nt(n)||a||A(n)[2])return;i.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation();if(O&&!L)return;if(c){b=Y();var s=o.offset(),f=A(n)[0]-s.top,d=A(n)[1]-s.left,v="mcsLinearOut";m.push(f),g.push(d),k[2]=Math.abs(A(n)[0]-k[0]),k[3]=Math.abs(A(n)[1]-k[1]);if(r.overflowed[0])var y=l[0].parent().height()-l[0].height(),w=h-f>0&&f-h>-(y*r.scrollRatio.y)&&(k[3]*2<k[2]||i.axis==="yx");if(r.overflowed[1])var E=l[1].parent().width()-l[1].width(),S=p-d>0&&d-p>-(E*r.scrollRatio.x)&&(k[2]*2<k[3]||i.axis==="yx");w||S?(D||n.preventDefault(),L=1):(O=1,t.addClass("mCS_touch_action")),D&&n.preventDefault(),x=i.axis==="yx"?[h-f,p-d]:i.axis==="x"?[null,p-d]:[h-f,null],u[0].idleTimer=250,r.overflowed[0]&&q(x[0],T,v,"y","all",!0),r.overflowed[1]&&q(x[1],T,v,"x",C,!0)}}function j(n){if(e(n.target).is('[class^="item-carousel-bloc"]'))return;if(!nt(n)||a||A(n)[2]){f=0;return}f=1,n.stopImmediatePropagation(),K(t),y=Y();var r=o.offset();d=A(n)[0]-r.top,v=A(n)[1]-r.left,m=[],g=[]}function F(t){if(e(t.target).is('[class^="item-carousel-bloc"]'))return;if(!nt(t)||a||A(t)[2])return;c=0,t.stopImmediatePropagation(),L=0,O=0,w=Y();var n=o.offset(),s=A(t)[0]-n.top,f=A(t)[1]-n.left;if(w-b>30)return;S=1e3/(w-y);var l="mcsEaseOut",h=S<2.5,p=h?[m[m.length-2],g[g.length-2]]:[0,0];E=h?[s-p[0],f-p[1]]:[s-d,f-v];var T=[Math.abs(E[0]),Math.abs(E[1])];S=h?[Math.abs(E[0]/4),Math.abs(E[1]/4)]:[S,S];var k=[Math.abs(u[0].offsetTop)-E[0]*I(T[0]/S[0],S[0]),Math.abs(u[0].offsetLeft)-E[1]*I(T[1]/S[1],S[1])];x=i.axis==="yx"?[k[0],k[1]]:i.axis==="x"?[null,k[1]]:[k[0],null],N=[T[0]*4+i.scrollInertia,T[1]*4+i.scrollInertia];var M=parseInt(i.contentTouchScroll)||0;x[0]=T[0]>M?x[0]:0,x[1]=T[1]>M?x[1]:0,r.overflowed[0]&&q(x[0],N[0],l,"y",C,!1),r.overflowed[1]&&q(x[1],N[1],l,"x",C,!1)}function I(e,t){var n=[t*1.5,t*2,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function q(e,n,r,i,s,o){if(!e)return;Q(t,e.toString(),{dur:n,scrollEasing:r,dir:i,overwrite:s,drag:o})}var t=e(this),r=t.data(n),i=r.opt,s=n+"_"+r.idx,o=e("#mCSB_"+r.idx),u=e("#mCSB_"+r.idx+"_container"),l=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],c,h,p,d,v,m=[],g=[],y,b,w,E,S,x,T=0,N,C=i.axis==="yx"?"none":"all",k=[],L,O,M=u.find("iframe"),_=["touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,"touchmove."+s+" pointermove."+s+" MSPointerMove."+s,"touchend."+s+" pointerup."+s+" MSPointerUp."+s],D=document.body.style.touchAction!==undefined&&document.body.style.touchAction!=="";u.bind(_[0],function(e){P(e)}).bind(_[1],function(e){B(e)}),o.bind(_[0],function(e){j(e)}).bind(_[2],function(e){F(e)}),M.length&&M.each(function(){e(this).bind("load",function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind(_[0],function(e){P(e),j(e)}).bind(_[1],function(e){B(e)}).bind(_[2],function(e){F(e)})})})},_=function(){function h(){return window.getSelection?window.getSelection().toString():document.selection&&document.selection.type!="Control"?document.selection.createRange().text:0}function p(e,n,r){s.type=r&&c?"stepped":"stepless",s.scrollAmount=10,z(t,e,n,"mcsLinearOut",r?60:null)}var t=e(this),r=t.data(n),i=r.opt,s=r.sequential,o=n+"_"+r.idx,u=e("#mCSB_"+r.idx+"_container"),l=u.parent(),c;u.bind("mousedown."+o,function(e){if(f)return;c||(c=1,a=!0)}).add(document).bind("mousemove."+o,function(e){if(!f&&c&&h()){var t=u.offset(),n=A(e)[0]-t.top+u[0].offsetTop,o=A(e)[1]-t.left+u[0].offsetLeft;n>0&&n<l.height()&&o>0&&o<l.width()?s.step&&p("off",null,"stepped"):(i.axis!=="x"&&r.overflowed[0]&&(n<0?p("on",38):n>l.height()&&p("on",40)),i.axis!=="y"&&r.overflowed[1]&&(o<0?p("on",37):o>l.width()&&p("on",39)))}}).bind("mouseup."+o+" dragend."+o,function(e){if(f)return;c&&(c=0,p("off",null)),a=!1})},D=function(){function l(n,s){K(t);if(j(t,n.target))return;var f=i.mouseWheel.deltaFactor!=="auto"?parseInt(i.mouseWheel.deltaFactor):u&&n.deltaFactor<100?100:n.deltaFactor||100,l=i.scrollInertia;if(i.axis==="x"||i.mouseWheel.axis==="x")var c="x",h=[Math.round(f*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],p=i.mouseWheel.scrollAmount!=="auto"?h[1]:h[0]>=o.width()?o.width()*.9:h[0],d=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetLeft),v=a[1][0].offsetLeft,m=a[1].parent().width()-a[1].width(),g=i.mouseWheel.axis==="y"?n.deltaY||s:n.deltaX;else var c="y",h=[Math.round(f*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],p=i.mouseWheel.scrollAmount!=="auto"?h[1]:h[0]>=o.height()?o.height()*.9:h[0],d=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetTop),v=a[0][0].offsetTop,m=a[0].parent().height()-a[0].height(),g=n.deltaY||s;if(c==="y"&&!r.overflowed[0]||c==="x"&&!r.overflowed[1])return;if(i.mouseWheel.invert||n.webkitDirectionInvertedFromDevice)g=-g;i.mouseWheel.normalizeDelta&&(g=g<0?-1:1);if(g>0&&v!==0||g<0&&v!==m||i.mouseWheel.preventDefault)n.stopImmediatePropagation(),n.preventDefault();n.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(p=n.deltaFactor,l=17),Q(t,(d-g*p).toString(),{dir:c,dur:l})}if(!e(this).data(n))return;var t=e(this),r=t.data(n),i=r.opt,s=n+"_"+r.idx,o=e("#mCSB_"+r.idx),a=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],f=e("#mCSB_"+r.idx+"_container").find("iframe");f.length&&f.each(function(){e(this).bind("load",function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+s,function(e,t){l(e,t)})})}),o.bind("mousewheel."+s,function(e,t){l(e,t)})},P=new Object,H=function(t){var n=!1,r=!1,i=null;t===undefined?r="#empty":e(t).attr("id")!==undefined&&(r=e(t).attr("id"));if(r!==!1&&P[r]!==undefined)return P[r];if(!t){try{var s=top.document;i=s.body.innerHTML}catch(o){}n=i!==null}else{try{var s=t.contentDocument||t.contentWindow.document;i=s.body.innerHTML}catch(o){}n=i!==null}return r!==!1&&(P[r]=n),n},B=function(e){var t=this.find("iframe");if(!t.length)return;var n=e?"auto":"none";t.css("pointer-events",n)},j=function(t,r){var i=r.nodeName.toLowerCase(),s=t.data(n).opt.mouseWheel.disableOver,o=["select","textarea"];return e.inArray(i,s)>-1&&!(e.inArray(i,o)>-1&&!e(r).is(":focus"))},F=function(){var t=e(this),r=t.data(n),i=n+"_"+r.idx,s=e("#mCSB_"+r.idx+"_container"),o=s.parent(),u=e(".mCSB_"+r.idx+"_scrollbar ."+l[12]),f;u.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(t){a=!0,e(t.target).hasClass("mCSB_dragger")||(f=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){a=!1}).bind("click."+i,function(n){if(!f)return;f=0;if(e(n.target).hasClass(l[12])||e(n.target).hasClass("mCSB_draggerRail")){K(t);var i=e(this),u=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!r.overflowed[1])return;var a="x",c=n.pageX>u.offset().left?-1:1,h=Math.abs(s[0].offsetLeft)-c*o.width()*.9}else{if(!r.overflowed[0])return;var a="y",c=n.pageY>u.offset().top?-1:1,h=Math.abs(s[0].offsetTop)-c*o.height()*.9}Q(t,h.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}})},I=function(){var t=e(this),r=t.data(n),i=r.opt,s=n+"_"+r.idx,o=e("#mCSB_"+r.idx+"_container"),u=o.parent();o.bind("focusin."+s,function(n){var r=e(document.activeElement),s=o.find(".mCustomScrollBox").length,a=0;if(!r.is(i.advanced.autoScrollOnFocus))return;K(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=s?(a+17)*s:0,t[0]._focusTimeout=setTimeout(function(){var e=[it(r)[0],it(r)[1]],n=[o[0].offsetTop,o[0].offsetLeft],s=[n[0]+e[0]>=0&&n[0]+e[0]<u.height()-r.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<u.width()-r.outerWidth(!1)],f=i.axis==="yx"&&!s[0]&&!s[1]?"none":"all";i.axis!=="x"&&!s[0]&&Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:f,dur:a}),i.axis!=="y"&&!s[1]&&Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:f,dur:a})},t[0]._focusTimer)})},q=function(){var t=e(this),r=t.data(n),i=n+"_"+r.idx,s=e("#mCSB_"+r.idx+"_container").parent();s.bind("scroll."+i,function(t){(s.scrollTop()!==0||s.scrollLeft()!==0)&&e(".mCSB_"+r.idx+"_scrollbar").css("visibility","hidden")})},R=function(){var t=e(this),r=t.data(n),i=r.opt,s=r.sequential,o=n+"_"+r.idx,u=".mCSB_"+r.idx+"_scrollbar",f=e(u+">a");f.bind("contextmenu."+o,function(e){e.preventDefault()}).bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(n){function u(e,n){s.scrollAmount=i.scrollButtons.scrollAmount,z(t,e,n)}n.preventDefault();if(!tt(n))return;var o=e(this).attr("class");s.type=i.scrollButtons.scrollType;switch(n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(s.type==="stepped")return;a=!0,r.tweenRunning=!1,u("on",o);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(s.type==="stepped")return;a=!1,s.dir&&u("off",o);break;case"click":if(s.type!=="stepped"||r.tweenRunning)return;u("on",o)}})},U=function(){function p(n){function d(e,n){s.type=i.keyboard.scrollType,s.scrollAmount=i.keyboard.scrollAmount;if(s.type==="stepped"&&r.tweenRunning)return;z(t,e,n)}switch(n.type){case"blur":r.tweenRunning&&s.dir&&d("off",null);break;case"keydown":case"keyup":var o=n.keyCode?n.keyCode:n.which,u="on";if(i.axis!=="x"&&(o===38||o===40)||i.axis!=="y"&&(o===37||o===39)){if((o===38||o===40)&&!r.overflowed[0]||(o===37||o===39)&&!r.overflowed[1])return;n.type==="keyup"&&(u="off"),e(document.activeElement).is(l)||(n.preventDefault(),n.stopImmediatePropagation(),d(u,o))}else if(o===33||o===34){if(r.overflowed[0]||r.overflowed[1])n.preventDefault(),n.stopImmediatePropagation();if(n.type==="keyup"){K(t);var c=o===34?-1:1;if(i.axis==="x"||i.axis==="yx"&&r.overflowed[1]&&!r.overflowed[0])var h="x",p=Math.abs(a[0].offsetLeft)-c*f.width()*.9;else var h="y",p=Math.abs(a[0].offsetTop)-c*f.height()*.9;Q(t,p.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if(o===35||o===36)if(!e(document.activeElement).is(l)){if(r.overflowed[0]||r.overflowed[1])n.preventDefault(),n.stopImmediatePropagation();if(n.type==="keyup"){if(i.axis==="x"||i.axis==="yx"&&r.overflowed[1]&&!r.overflowed[0])var h="x",p=o===35?Math.abs(f.width()-a.outerWidth(!1)):0;else var h="y",p=o===35?Math.abs(f.height()-a.outerHeight(!1)):0;Q(t,p.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}}var t=e(this),r=t.data(n),i=r.opt,s=r.sequential,o=n+"_"+r.idx,u=e("#mCSB_"+r.idx),a=e("#mCSB_"+r.idx+"_container"),f=a.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']",c=a.find("iframe"),h=["blur."+o+" keydown."+o+" keyup."+o];c.length&&c.each(function(){e(this).bind("load",function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){p(e)})})}),u.attr("tabindex","0").bind(h[0],function(e){p(e)})},z=function(t,r,i,s,o){function v(e){a.snapAmount&&(f.scrollAmount=a.snapAmount instanceof Array?f.dir[0]==="x"?a.snapAmount[1]:a.snapAmount[0]:a.snapAmount);var n=f.type!=="stepped",r=o?o:e?n?p/1.5:d:1e3/60,i=e?n?7.5:40:2.5,l=[Math.abs(c[0].offsetTop),Math.abs(c[0].offsetLeft)],h=[u.scrollRatio.y>10?10:u.scrollRatio.y,u.scrollRatio.x>10?10:u.scrollRatio.x],m=f.dir[0]==="x"?l[1]+f.dir[1]*h[1]*i:l[0]+f.dir[1]*h[0]*i,g=f.dir[0]==="x"?l[1]+f.dir[1]*parseInt(f.scrollAmount):l[0]+f.dir[1]*parseInt(f.scrollAmount),y=f.scrollAmount!=="auto"?g:m,b=s?s:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;e&&r<17&&(y=f.dir[0]==="x"?l[1]:l[0]),Q(t,y.toString(),{dir:f.dir[0],scrollEasing:b,dur:r,onComplete:w});if(e){f.dir=!1;return}clearTimeout(f.step),f.step=setTimeout(function(){v()},r)}function m(){clearTimeout(f.step),et(f,"step"),K(t)}var u=t.data(n),a=u.opt,f=u.sequential,c=e("#mCSB_"+u.idx+"_container"),h=f.type==="stepped"?!0:!1,p=a.scrollInertia<26?26:a.scrollInertia,d=a.scrollInertia<1?17:a.scrollInertia;switch(r){case"on":f.dir=[i===l[16]||i===l[15]||i===39||i===37?"x":"y",i===l[13]||i===l[15]||i===38||i===37?-1:1],K(t);if(rt(i)&&f.type==="stepped")return;v(h);break;case"off":m(),(h||u.tweenRunning&&f.dir)&&v(!0)}},W=function(t){var r=e(this).data(n).opt,i=[];return typeof t=="function"&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:r.axis==="x"?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||r.axis==="x"?null:t,i[1]=t.x?t.x:t.y||r.axis==="y"?null:t),typeof i[0]=="function"&&(i[0]=i[0]()),typeof i[1]=="function"&&(i[1]=i[1]()),i},X=function(t,r){if(t==null||typeof t=="undefined")return;var i=e(this),s=i.data(n),o=s.opt,u=e("#mCSB_"+s.idx+"_container"),a=u.parent(),f=typeof t;r||(r=o.axis==="x"?"x":"y");var l=r==="x"?u.outerWidth(!1)-a.width():u.outerHeight(!1)-a.height(),h=r==="x"?u[0].offsetLeft:u[0].offsetTop,p=r==="x"?"left":"top";switch(f){case"function":return t();case"object":var d=t.jquery?t:e(t);if(!d.length)return;return r==="x"?it(d)[1]:it(d)[0];case"string":case"number":if(rt(t))return Math.abs(t);if(t.indexOf("%")!==-1)return Math.abs(l*parseInt(t)/100);if(t.indexOf("-=")!==-1)return Math.abs(h-parseInt(t.split("-=")[1]));if(t.indexOf("+=")!==-1){var v=h+parseInt(t.split("+=")[1]);return v>=0?0:Math.abs(v)}if(t.indexOf("px")!==-1&&rt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if(t==="top"||t==="left")return 0;if(t==="bottom")return Math.abs(a.height()-u.outerHeight(!1));if(t==="right")return Math.abs(a.width()-u.outerWidth(!1));if(t==="first"||t==="last"){var d=u.find(":"+t);return r==="x"?it(d)[1]:it(d)[0]}if(e(t).length)return r==="x"?it(e(t))[1]:it(e(t))[0];u.css(p,t),c.update.call(null,i[0]);return}},V=function(t){function u(){clearTimeout(o[0].autoUpdate);if(r.parents("html").length===0){r=null;return}o[0].autoUpdate=setTimeout(function(){if(s.advanced.updateOnSelectorChange){i.poll.change.n=f();if(i.poll.change.n!==i.poll.change.o){i.poll.change.o=i.poll.change.n,h(3);return}}if(s.advanced.updateOnContentResize){i.poll.size.n=r[0].scrollHeight+r[0].scrollWidth+o[0].offsetHeight+r[0].offsetHeight+r[0].offsetWidth;if(i.poll.size.n!==i.poll.size.o){i.poll.size.o=i.poll.size.n,h(1);return}}if(s.advanced.updateOnImageLoad)if(s.advanced.updateOnImageLoad!=="auto"||s.axis!=="y"){i.poll.img.n=o.find("img").length;if(i.poll.img.n!==i.poll.img.o){i.poll.img.o=i.poll.img.n,o.find("img").each(function(){a(this)});return}}(s.advanced.updateOnSelectorChange||s.advanced.updateOnContentResize||s.advanced.updateOnImageLoad)&&u()},s.advanced.autoUpdateTimeout)}function a(t){function r(e,t){return function(){return t.apply(e,arguments)}}function i(){this.onload=null,e(t).addClass(l[2]),h(2)}if(e(t).hasClass(l[2])){h();return}var n=new Image;n.onload=r(n,i),n.src=t.src}function f(){s.advanced.updateOnSelectorChange===!0&&(s.advanced.updateOnSelectorChange="*");var e=0,t=o.find(s.advanced.updateOnSelectorChange);return s.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function h(e){clearTimeout(o[0].autoUpdate),c.update.call(null,r[0],e)}var r=e(this),i=r.data(n),s=i.opt,o=e("#mCSB_"+i.idx+"_container");if(t){clearTimeout(o[0].autoUpdate),et(o[0],"autoUpdate");return}u()},J=function(e,t,n){return Math.round(e/t)*t-n},K=function(t){var r=t.data(n),i=e("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");i.each(function(){Z.call(this)})},Q=function(t,r,i){function N(e){return s&&o.callbacks[e]&&typeof o.callbacks[e]=="function"}function C(){return[o.callbacks.alwaysTriggerOffsets||g>=y[0]+w,o.callbacks.alwaysTriggerOffsets||g<=-E]}function k(){var e=[l[0].offsetTop,l[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],r=[l.outerHeight(!1),l.outerWidth(!1)],s=[f.height(),f.width()];t[0].mcs={content:l,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(r[0])-s[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(r[1])-s[1])),direction:i.dir}}var s=t.data(n),o=s.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:o.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=e.extend(u,i),a=[i.dur,i.drag?0:i.dur],f=e("#mCSB_"+s.idx),l=e("#mCSB_"+s.idx+"_container"),c=l.parent(),h=o.callbacks.onTotalScrollOffset?W.call(t,o.callbacks.onTotalScrollOffset):[0,0],p=o.callbacks.onTotalScrollBackOffset?W.call(t,o.callbacks.onTotalScrollBackOffset):[0,0];s.trigger=i.trigger;if(c.scrollTop()!==0||c.scrollLeft()!==0)e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),c.scrollTop(0).scrollLeft(0);r==="_resetY"&&!s.contentReset.y&&(N("onOverflowYNone")&&o.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),r==="_resetX"&&!s.contentReset.x&&(N("onOverflowXNone")&&o.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1);if(r==="_resetY"||r==="_resetX")return;(s.contentReset.y||!t[0].mcs)&&s.overflowed[0]&&(N("onOverflowY")&&o.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),(s.contentReset.x||!t[0].mcs)&&s.overflowed[1]&&(N("onOverflowX")&&o.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null);if(o.snapAmount){var d=o.snapAmount instanceof Array?i.dir==="x"?o.snapAmount[1]:o.snapAmount[0]:o.snapAmount;r=J(r,d,o.snapOffset)}switch(i.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),m="left",g=l[0].offsetLeft,y=[f.width()-l.outerWidth(!1),v.parent().width()-v.width()],b=[r,r===0?0:r/s.scrollRatio.x],w=h[1],E=p[1],S=w>0?w/s.scrollRatio.x:0,T=E>0?E/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),m="top",g=l[0].offsetTop,y=[f.height()-l.outerHeight(!1),v.parent().height()-v.height()],b=[r,r===0?0:r/s.scrollRatio.y],w=h[0],E=p[0],S=w>0?w/s.scrollRatio.y:0,T=E>0?E/s.scrollRatio.y:0}b[1]<0||b[0]===0&&b[1]===0?b=[0,0]:b[1]>=y[1]?b=[y[0],y[1]]:b[0]=-b[0],t[0].mcs||(k(),N("onInit")&&o.callbacks.onInit.call(t[0])),clearTimeout(l[0].onCompleteTimeout),G(v[0],m,Math.round(b[1]),a[1],i.scrollEasing);if(!s.tweenRunning&&(g===0&&b[0]>=0||g===y[0]&&b[0]<=y[0]))return;G(l[0],m,Math.round(b[0]),a[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!s.tweenRunning&&(N("onScrollStart")&&(k(),o.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,x(v),s.cbOffsets=C())},onUpdate:function(){i.callbacks&&i.onUpdate&&N("whileScrolling")&&(k(),o.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){o.axis==="yx"&&clearTimeout(l[0].onCompleteTimeout);var e=l[0].idleTimer||0;l[0].onCompleteTimeout=setTimeout(function(){N("onScroll")&&(k(),o.callbacks.onScroll.call(t[0])),N("onTotalScroll")&&b[1]>=y[1]-S&&s.cbOffsets[0]&&(k(),o.callbacks.onTotalScroll.call(t[0])),N("onTotalScrollBack")&&b[1]<=T&&s.cbOffsets[1]&&(k(),o.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,l[0].idleTimer=0,x(v,"hide")},e)}}})},G=function(e,t,n,r,i,s,o){function y(){if(m.stop)return;h||u.call(),h=Y()-l,b(),h>=m.time&&(m.time=h>m.time?h+c-(h-m.time):h+c-1,m.time<h+1&&(m.time=h+1)),m.time<r?m.id=v(y):f.call()}function b(){r>0?(m.currVal=S(m.time,p,g,r,i),d[t]=Math.round(m.currVal)+"px"):d[t]=n+"px",a.call()}function w(){c=1e3/60,m.time=h+c,v=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return b(),setTimeout(e,.01)},m.id=v(y)}function E(){if(m.id==null)return;window.requestAnimationFrame?window.cancelAnimationFrame(m.id):clearTimeout(m.id),m.id=null}function S(e,t,n,r,i){switch(i){case"linear":case"mcsLinear":return n*e/r+t;case"mcsLinearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":e/=r/2;if(e<1)return n/2*e*e+t;return e--,-n/2*(e*(e-2)-1)+t;case"easeInOutStrong":e/=r/2;if(e<1)return n/2*Math.pow(2,10*(e-1))+t;return e--,n/2*(-Math.pow(2,-10*e)+2)+t;case"easeInOut":case"mcsEaseInOut":e/=r/2;if(e<1)return n/2*e*e*e+t;return e-=2,n/2*(e*e*e+2)+t;case"easeOutSmooth":return e/=r,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var s=(e/=r)*e,o=s*e;return t+n*(.499999999999997*o*s+ -2.5*s*s+5.5*o+ -6.5*s+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var o=o||{},u=o.onStart||function(){},a=o.onUpdate||function(){},f=o.onComplete||function(){},l=Y(),c,h=0,p=e.offsetTop,d=e.style,v,m=e._mTween[t];t==="left"&&(p=e.offsetLeft);var g=n-p;m.stop=0,s!=="none"&&E(),w()},Y=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});var t=["top","left"];for(var n=0;n<t.length;n++){var r=t[n];e._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[r].id):clearTimeout(e._mTween[r].id),e._mTween[r].id=null,e._mTween[r].stop=1)}},et=function(e,t){try{delete e[t]}catch(n){e[t]=null}},tt=function(e){return!e.which||e.which===1},nt=function(e){var t=e.originalEvent.pointerType;return!t||t==="touch"||t===2},rt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},it=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},st=function(){function t(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var e=t();return e?document[e]:!1};e.fn[t]=function(t){if(c[t])return c[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return c.init.apply(this,arguments);e.error("Method "+t+" does not exist")},e[t]=function(t){if(c[t])return c[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return c.init.apply(this,arguments);e.error("Method "+t+" does not exist")},e[t].defaults=i,window[t]=!0,e(window).bind("load",function(){e(r)[t](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n=e(t),r=n.parents(".mCSB_container"),i,s;if(!r.length)return;return i=r.parent(),s=[r[0].offsetTop,r[0].offsetLeft],s[0]+it(n)[0]>=0&&s[0]+it(n)[0]<i.height()-n.outerHeight(!1)&&s[1]+it(n)[1]>=0&&s[1]+it(n)[1]<i.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,r){var i=e(t),s,o=i.parents(".mCSB_container"),u,a,f,l=r[3]==="exact"?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(!o.length)return;return s=[i.outerHeight(!1),i.outerWidth(!1)],a=[o[0].offsetTop+it(i)[0],o[0].offsetLeft+it(i)[1]],u=[o.parent()[0].offsetHeight,o.parent()[0].offsetWidth],f=[s[0]<u[0]?l[0]:l[1],s[1]<u[1]?l[0]:l[1]],a[0]-u[0]*f[0][0]<0&&a[0]+s[0]-u[0]*f[0][1]>=0&&a[1]-u[1]*f[1][0]<0&&a[1]+s[1]-u[1]*f[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var r=e(t).data(n);if(!r)return;return r.overflowed[0]||r.overflowed[1]}})})})});